2024-12-17 09:39:55.692 [info]  [ httpServer ] {"address":"::","family":"IPv6","port":8888}
2024-12-17 09:39:55.795 [info]  [ AMQP:amqpConnect ] AMQP 연결 성공
2024-12-17 09:39:55.813 [info]  [ app.js:loadProto ] ErkApiMsg.proto 불러오기 성공
2024-12-17 09:39:55.818 [info]  [ app.js:startApplication ] NFS 마운트 체크를 성공했습니다.
2024-12-17 09:39:55.822 [info]  [ EnhancedFSWatcher:initializeWatcher ] File system watcher initialized successfully
2024-12-17 09:39:55.823 [info]  [ app.js:watchDirectory ] File watcher successfully started
2024-12-17 09:39:55.825 [info]  [ erkUtils.js:setErkApiMsg ] ErkApiMsg and channels set to: defined
2024-12-17 09:39:55.833 [info]  [ AMQP:createChannel ] AMQP 상담원 채널 생성 성공
2024-12-17 09:39:55.834 [info]  [ AMQP:createChannel ] AMQP 고객 채널 생성 성공
2024-12-17 09:39:55.838 [info]  [ AMQP:selectOrgId ] OrgId 요청해야 할 서비스 항목 0건
2024-12-17 09:39:55.839 [info]  [ AMQP:selectUsr ] 등록할 서비스 사업자가 없음. 사용자 프로파일링 진행
2024-12-17 09:39:55.842 [info]  [ AMQP:addUserInfo ] 사용자 등록 조회 결과 : 0건
2024-12-17 09:39:55.843 [info]  [ AMQP:addUserInfo ] 등록할 사용자 없음
2024-12-17 09:39:55.851 [info]  [ AMQP:assertQueue ] Classic 메세지 큐(NEIGHBOR_SYSTEM) 생성 성공
2024-12-17 09:39:55.856 [info]  [ AMQP:assertQueue ] Classic 메세지 큐(NEIGHBOR_SYSTEM2) 생성 성공
2024-12-17 09:39:55.866 [info]  [ EnhancedFSWatcher.js:watchDirectoryReady ] Initial scan complete. Ready for changes...
2024-12-17 09:39:59.943 [info]  [ app.js:/ ] 세션 정보가 없거나 인증되지 않아 로그인 페이지로 이동
2024-12-17 09:40:05.141 [info]  [ app.js:managerLogin ] 로그인 프로세스 호출
2024-12-17 09:40:05.142 [info]  [ app.js:managerLogin ] 입력된 사용자 계정: ms2, 입력된 사용자 암호: nb1234
2024-12-17 09:40:05.150 [info]  [ app.js:login_info_sql ] INSERT INTO emo_loginout_info (loginout_dt, userinfo_userid, login_id, group_manager, user_name, loginout_type, uuid, uuid2)
                            VALUES (NOW(3), '2', 'ms2', 'N', '이서연', 'I', '90d90d95-3169-4ef0-a05f-b5d79420a1da', '5c73f8b4-e8e5-4dd6-8963-a4533abfe3ae')
2024-12-17 09:40:05.151 [info]  [ app:login_info_sql ] * User login success & Data inserted! *
2024-12-17 09:40:05.151 [info]  [ app:login_info_sql ] 현재 접속한 사용자 정보
{
  "user_name": "이서연",
  "login_id": "ms2",
  "userinfo_userId": 2,
  "group_type": "민원접수",
  "group_manager": "N",
  "user_type": "1",
  "org_name": "NEIGHBOR SYSTEM Y",
  "org_id": 12,
  "service_type": 2,
  "userinfo_uuid": "90d90d95-3169-4ef0-a05f-b5d79420a1da",
  "cusinfo_uuid": "5c73f8b4-e8e5-4dd6-8963-a4533abfe3ae",
  "current_path": ""
}
2024-12-17 09:40:05.157 [info]  [ app:erkconn_send_rq ] UPDATE emo_user_info SET erkserviceconn_send_dt = NOW(3) 
                                WHERE login_id = "ms2";
2024-12-17 09:40:05.171 [info]  [ AMQP:sendToqueue ] 메세지 송신 결과
{
    "ErkServiceConnRQ": {
        "ErkMsgHead": {
            "MsgType": "ErkServiceConnRQ",
            "TransactionId": "90d90d95-3169-4ef0-a05f-b5d79420a1da",
            "QueueInfo": {
                "ToQueueName": "ERK_API_QUEUE",
                "FromQueueName": "NEIGHBOR_SYSTEM"
            },
            "OrgId": 12,
            "UserId": 2
        },
        "MsgTime": "1734396005158"
    }
}
2024-12-17 09:40:05.171 [info]  [ AMQP:sendToqueue ] 메세지 송신 결과
{
    "ErkServiceConnRQ": {
        "ErkMsgHead": {
            "MsgType": "ErkServiceConnRQ",
            "TransactionId": "5c73f8b4-e8e5-4dd6-8963-a4533abfe3ae",
            "QueueInfo": {
                "ToQueueName": "ERK_API_QUEUE",
                "FromQueueName": "NEIGHBOR_SYSTEM2"
            },
            "OrgId": 12,
            "UserId": 12
        },
        "MsgTime": "1734396005170"
    }
}
2024-12-17 09:40:05.171 [info]  [ app:erkconn_send_rq ] 상담원 페이지로 이동
2024-12-17 09:40:05.217 [info]  [ RMQ:ErkServiceConnRP ] 메세지 수신 결과
{
    "ErkServiceConnRP": {
        "ErkMsgHead": {
            "MsgType": "ErkServiceConnRP",
            "TransactionId": "90d90d95-3169-4ef0-a05f-b5d79420a1da",
            "QueueInfo": {
                "ToQueueName": "NEIGHBOR_SYSTEM",
                "FromQueueName": "ERK_API_QUEUE"
            },
            "OrgId": 12,
            "UserId": 2
        },
        "MsgTime": "1734396005207",
        "ReturnCode": "ReturnCode_ok",
        "ServiceType": "ServiceType_speech"
    }
}
2024-12-17 09:40:05.226 [info]  [ Consume:ErkServiceConnRP ] ReturnCode ok 업데이트 성공
UPDATE emo_user_info
                        SET erkserviceconn_recv_dt = NOW(3),
                        erkserviceconn_return_code = '1' 
                        WHERE userinfo_userId = 2
                        AND userinfo_serviceType = 2
2024-12-17 09:40:05.244 [info]  [ RMQ:ErkServiceConnRP ] 메세지 수신 결과
{
    "ErkServiceConnRP": {
        "ErkMsgHead": {
            "MsgType": "ErkServiceConnRP",
            "TransactionId": "5c73f8b4-e8e5-4dd6-8963-a4533abfe3ae",
            "QueueInfo": {
                "ToQueueName": "NEIGHBOR_SYSTEM2",
                "FromQueueName": "ERK_API_QUEUE"
            },
            "OrgId": 12,
            "UserId": 12
        },
        "MsgTime": "1734396005236",
        "ReturnCode": "ReturnCode_ok",
        "ServiceType": "ServiceType_speech"
    }
}
2024-12-17 09:40:05.256 [info]  [ Consume:ErkServiceConnRP ] ReturnCode ok 업데이트 성공
UPDATE emo_user_info
                        SET erkserviceconn_recv_dt = NOW(3),
                        erkserviceconn_return_code = '1' 
                        WHERE userinfo_userId = 12
                        AND userinfo_serviceType = 2
2024-12-17 09:40:05.346 [info]  [ app.js:socketConnected ] 상담원: ms2 접속[::ffff:192.168.0.19]
2024-12-17 09:40:05.347 [info]  [ app.js:socketConnected ] 접속일시: 2024년 12월 17일 09시 40분 05초
2024-12-17 09:40:05.348 [info]  [ app.js:socketConnected ] 현재 연결된 사용자: 1명
2024-12-17 09:40:05.349 [info]  [ app.js:socketConnected ] 현재 연결된 사용자 ID: ms2,[object Object]
2024-12-17 09:40:05.356 [info]  [ app.js:socketOnMessage ] 클라이언트 정상 응답 '상담원ms2 접속[::ffff:192.168.0.19]'
2024-12-17 09:40:05.357 [info]  [ app.js:socketOnMessage ] 클라이언트 정상 응답 '접속일시: 2024년 12월 17일 09시 40분 05초'
2024-12-17 09:40:19.867 [info]  [ EnhancedFSWatcher.js:watchDirectoryUnlink ] File /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501.wav has been removed
2024-12-17 09:40:19.867 [info]  [ EnhancedFSWatcher.js:watchDirectoryUnlink ] File /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501_rx.wav has been removed
2024-12-17 09:40:19.867 [info]  [ EnhancedFSWatcher.js:watchDirectoryUnlink ] File /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501_tx.wav has been removed
2024-12-17 09:40:28.292 [info]  [ EnhancedFSWatcher.js:watchFileAdd ] File /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501.wav has been added
2024-12-17 09:40:28.293 [info]  [ EnhancedFSWatcher.js:watchFileAdd ] File /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501_tx.wav has been added
2024-12-17 09:40:28.294 [warn]  [ EnhancedFSWatcher.js:watchFileAdd ] File validation failed: invalid_filename_format for /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501_tx.wav
2024-12-17 09:40:28.294 [info]  [ EnhancedFSWatcher.js:watchFileAdd ] File /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501_rx.wav has been added
2024-12-17 09:40:28.295 [warn]  [ EnhancedFSWatcher.js:watchFileAdd ] File validation failed: invalid_filename_format for /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501_rx.wav
2024-12-17 09:40:28.296 [warn]  [ audioServices.js:EmoServiceStartRQ ] 전달받은 File Path: 20230823142311200_A_2501.wav
2024-12-17 09:40:28.310 [info]  [ audioServices.js:EmoServiceStartRQ ] con 업데이트 후 메세지 송신
{
    "EmoServiceStartRQ": {
        "ErkMsgHead": {
            "MsgType": "EmoServiceStartRQ",
            "QueueInfo": {
                "ToQueueName": "ERK_API_QUEUE",
                "FromQueueName": "NEIGHBOR_SYSTEM"
            },
            "OrgId": 12,
            "UserId": 2
        },
        "MsgTime": "1734396028303",
        "ServiceType": "ServiceType_speech",
        "EmoRecogType": "EmoRecogType_personal_emotion"
    }
}
2024-12-17 09:40:28.313 [info]  [ audioServices.js:EmoServiceStartRQ ] cus 업데이트 후 메세지 송신
{
    "EmoServiceStartRQ": {
        "ErkMsgHead": {
            "MsgType": "EmoServiceStartRQ",
            "QueueInfo": {
                "ToQueueName": "ERK_API_QUEUE",
                "FromQueueName": "NEIGHBOR_SYSTEM2"
            },
            "OrgId": 12,
            "UserId": 12
        },
        "MsgTime": "1734396028303",
        "ServiceType": "ServiceType_speech",
        "EmoRecogType": "EmoRecogType_personal_emotion"
    }
}
2024-12-17 09:40:28.313 [info]  [ audioServices.js:sendAndWaitForResponse ] Both channels responded successfully
2024-12-17 09:40:28.313 [info]  [ watchFileAdd:EmoServiceStartRQ ] Received response for 20230823142311200_A_2501.wav (Response: 1 - success)
2024-12-17 09:40:28.314 [info]  [ audioServices.js:handleNewFile ] 처리요청 받은 RX/TX 파일경로: /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501_rx.wav
2024-12-17 09:40:28.314 [error] [ audioServices.js:handleNewFile ] Error handling file /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501_rx.wav
2024-12-17 09:40:28.315 [error] [ audioServices.js:handleNewFile ] ReferenceError: fileName is not defined
2024-12-17 09:40:28.315 [info]  [ audioServices.js:handleNewFile ] 처리요청 받은 RX/TX 파일경로: /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501_tx.wav
2024-12-17 09:40:28.315 [error] [ audioServices.js:handleNewFile ] Error handling file /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501_tx.wav
2024-12-17 09:40:28.315 [error] [ audioServices.js:handleNewFile ] ReferenceError: fileName is not defined
2024-12-17 09:40:28.316 [info]  [ watchFileAdd:handleNewFile ] RX processing complete:
2024-12-17 09:40:28.316 [info]  [ watchFileAdd:handleNewFile ] TX processing complete:
2024-12-17 09:40:28.825 [info]  [ Consume:chEmoServiceStartRP ] 메세지 수신 결과
{
    "EmoServiceStartRP": {
        "ErkMsgHead": {
            "MsgType": "EmoServiceStartRP",
            "QueueInfo": {
                "ToQueueName": "NEIGHBOR_SYSTEM",
                "FromQueueName": "ERK_API_QUEUE"
            },
            "OrgId": 12,
            "UserId": 2
        },
        "MsgTime": "1734396028821",
        "ReturnCode": "ReturnCode_ok",
        "SpeechEngineInfo": {
            "EngineType": "EngineType_speech",
            "EngineCondition": "EngineCondition_available",
            "IpAddr": "0.0.0.0",
            "ReceiveQueueName": "RECV_02_012_002",
            "SendQueueName": "SEND_02_012_002"
        }
    }
}
2024-12-17 09:40:28.826 [info]  [ app.js:getMyStreamQueue ] getMyStreamQueue 함수 호출 성공
2024-12-17 09:40:28.827 [info]  [ app.js:getMyStreamQueue ] 해당 스트림큐 요청자 userId: 2
2024-12-17 09:40:28.829 [info]  [ AMQP:assertQueue ] 새로운 Stream 큐 'RECV_02_012_002' 확인 및 생성 완료
2024-12-17 09:40:28.829 [info]  [ app.js:getMyStreamQueue ] 스트림 큐 생성 성공
2024-12-17 09:40:28.831 [info]  [ Consume:chEmoServiceStartRP ] EmoServiceStartRP 수신 정보 업데이트 성공
2024-12-17 09:40:28.854 [info]  [ Consume:ch2EmoServiceStartRP ] 메세지 수신 결과
{
    "EmoServiceStartRP": {
        "ErkMsgHead": {
            "MsgType": "EmoServiceStartRP",
            "QueueInfo": {
                "ToQueueName": "NEIGHBOR_SYSTEM2",
                "FromQueueName": "ERK_API_QUEUE"
            },
            "OrgId": 12,
            "UserId": 12
        },
        "MsgTime": "1734396028852",
        "ReturnCode": "ReturnCode_ok",
        "SpeechEngineInfo": {
            "EngineType": "EngineType_speech",
            "EngineCondition": "EngineCondition_available",
            "IpAddr": "0.0.0.0",
            "ReceiveQueueName": "RECV_02_012_012",
            "SendQueueName": "SEND_02_012_012"
        }
    }
}
2024-12-17 09:40:28.855 [info]  [ app.js:getMyStreamQueue ] getMyStreamQueue 함수 호출 성공
2024-12-17 09:40:28.855 [info]  [ app.js:getMyStreamQueue ] 해당 스트림큐 요청자 userId: 12
2024-12-17 09:40:28.856 [info]  [ AMQP:assertQueue ] 새로운 Stream 큐 'RECV_02_012_012' 확인 및 생성 완료
2024-12-17 09:40:28.857 [info]  [ app.js:getMyStreamQueue ] 스트림 큐 생성 성공
2024-12-17 09:40:28.859 [info]  [ Consume:ch2EmoServiceStartRP ] ch2EmoServiceStartRP 수신 정보 업데이트 성공
2024-12-17 09:40:33.398 [warn]  [ audioServices.js:EmoServiceStartRQ ] Channel 1 response timeout
2024-12-17 09:40:33.399 [warn]  [ audioServices.js:EmoServiceStartRQ ] Channel 2 response timeout
2024-12-17 09:40:36.074 [info]  [ app.js:EmoServiceStopRQ ] EmoServiceStopRQ 프로세스 호출
2024-12-17 09:40:36.076 [info]  [ app.js:EmoServiceStopRQ ] 조회 결과 2건
2024-12-17 09:40:36.082 [info]  [ app.js:emoSerStop_send_rq ] 업데이트 후 메세지 송신
{
    "EmoServiceStopRQ": {
        "ErkMsgHead": {
            "MsgType": "EmoServiceStopRQ",
            "TransactionId": "90d90d95-3169-4ef0-a05f-b5d79420a1da",
            "QueueInfo": {
                "ToQueueName": "ERK_API_QUEUE",
                "FromQueueName": "NEIGHBOR_SYSTEM"
            },
            "OrgId": 12,
            "UserId": 2
        },
        "MsgTime": "1734396036077",
        "ServiceType": "ServiceType_speech",
        "EmoRecogType": "EmoRecogType_personal_emotion",
        "PhysioEngine_ReceiveQueueName": "",
        "PhysioEngine_SendQueueName": "",
        "SpeechEngine_ReceiveQueueName": "RECV_02_012_002",
        "SpeechEngine_SendQueueName": "SEND_02_012_002",
        "FaceEngine_ReceiveQueueName": "",
        "FaceEngine_SendQueueName": "",
        "KnowledgeEngine_ReceiveQueueName": "",
        "KnowledgeEngine_SendQueueName": ""
    }
}
2024-12-17 09:40:36.083 [info]  [ app.js:emoSerStop_send_rq ] 업데이트 후 메세지 송신
{
    "EmoServiceStopRQ": {
        "ErkMsgHead": {
            "MsgType": "EmoServiceStopRQ",
            "TransactionId": "5c73f8b4-e8e5-4dd6-8963-a4533abfe3ae",
            "QueueInfo": {
                "ToQueueName": "ERK_API_QUEUE",
                "FromQueueName": "NEIGHBOR_SYSTEM2"
            },
            "OrgId": 12,
            "UserId": 12
        },
        "MsgTime": "1734396036078",
        "ServiceType": "ServiceType_speech",
        "EmoRecogType": "EmoRecogType_personal_emotion",
        "PhysioEngine_ReceiveQueueName": "",
        "PhysioEngine_SendQueueName": "",
        "SpeechEngine_ReceiveQueueName": "RECV_02_012_012",
        "SpeechEngine_SendQueueName": "SEND_02_012_012",
        "FaceEngine_ReceiveQueueName": "",
        "FaceEngine_SendQueueName": "",
        "KnowledgeEngine_ReceiveQueueName": "",
        "KnowledgeEngine_SendQueueName": ""
    }
}
2024-12-17 09:40:36.418 [info]  [ app.js:chEmoServiceStopRP ] 메세지 수신 결과
{
    "EmoServiceStopRP": {
        "ErkMsgHead": {
            "MsgType": "EmoServiceStopRP",
            "TransactionId": "90d90d95-3169-4ef0-a05f-b5d79420a1da",
            "QueueInfo": {
                "ToQueueName": "NEIGHBOR_SYSTEM",
                "FromQueueName": "ERK_API_QUEUE"
            },
            "OrgId": 12,
            "UserId": 2
        },
        "MsgTime": "1734396036408",
        "ReturnCode": "ReturnCode_ok",
        "SpeechEngineInfo": {
            "EngineType": "EngineType_speech",
            "EngineCondition": "EngineCondition_available",
            "IpAddr": "0.0.0.0",
            "ReceiveQueueName": "RECV_02_012_002",
            "SendQueueName": "SEND_02_012_002"
        }
    }
}
2024-12-17 09:40:36.420 [info]  [ app.js:chEmoServiceStopRP ] UPDATE emo_user_info
                                SET erkEmoSrvcStopRP_returnCode = '1',
                                    erkengineInfo_return_engineType = null,
                                    erkengineInfo_return_condition = null,
                                    erkengineInfo_return_ipAddr = null,
                                    erkengineInfo_return_recvQueueName = null,
                                    erkengineInfo_returnCustomer_recvQueueName = null,
                                    erkengineInfo_return_sendQueueName = null,
                                    erkengineInfo_returnCustomer_sendQueueName = null,
                                    update_dt = NOW(3),
                                    erkEmoSrvcStop_recv_dt = NOW(3)
                                WHERE userinfo_userId = 2;
2024-12-17 09:40:36.425 [info]  [ app.js:chEmoServiceStopRP ] 상태 업데이트 성공
2024-12-17 09:40:36.433 [info]  [ app.js:ch2EmoServiceStopRP ] 메세지 수신 결과
{
    "EmoServiceStopRP": {
        "ErkMsgHead": {
            "MsgType": "EmoServiceStopRP",
            "TransactionId": "5c73f8b4-e8e5-4dd6-8963-a4533abfe3ae",
            "QueueInfo": {
                "ToQueueName": "NEIGHBOR_SYSTEM2",
                "FromQueueName": "ERK_API_QUEUE"
            },
            "OrgId": 12,
            "UserId": 12
        },
        "MsgTime": "1734396036428",
        "ReturnCode": "ReturnCode_ok",
        "SpeechEngineInfo": {
            "EngineType": "EngineType_speech",
            "EngineCondition": "EngineCondition_available",
            "IpAddr": "0.0.0.0",
            "ReceiveQueueName": "RECV_02_012_012",
            "SendQueueName": "SEND_02_012_012"
        }
    }
}
2024-12-17 09:40:36.433 [info]  [ app.js:ch2EmoServiceStopRP ] UPDATE emo_user_info
                                SET erkEmoSrvcStopRP_returnCode = '1',
                                    erkengineInfo_return_engineType = null,
                                    erkengineInfo_return_condition = null,
                                    erkengineInfo_return_ipAddr = null,
                                    erkengineInfo_return_recvQueueName = null,
                                    erkengineInfo_returnCustomer_recvQueueName = null,
                                    erkengineInfo_return_sendQueueName = null,
                                    erkengineInfo_returnCustomer_sendQueueName = null,
                                    update_dt = NOW(3),
                                    erkEmoSrvcStop_recv_dt = NOW(3)
                                WHERE userinfo_userId = 12;
2024-12-17 09:40:36.438 [info]  [ app.js:ch2EmoServiceStopRP ] 상태 업데이트 성공
2024-12-17 09:40:37.814 [info]  [ app.js:socketDisConnected ] transport close
2024-12-17 09:40:37.814 [info]  [ app.js:socketDisConnected ] 클라이언트 연결해제 [IP: ::ffff:192.168.0.19, 사용자: 이서연]
2024-12-17 09:40:37.814 [info]  [ app.js:socketDisConnected ] 현재 연결된 사용자: 0명
2024-12-17 09:40:37.830 [info]  [ API:ManagerLogout ] 로그아웃 프로세스 호출
2024-12-17 09:40:37.844 [info]  [ AMQP:sendToqueue ] 메세지 송신 결과
{
    "ErkServiceDisConnRQ": {
        "ErkMsgHead": {
            "MsgType": "ErkServiceDisConnRQ",
            "QueueInfo": {
                "ToQueueName": "ERK_API_QUEUE",
                "FromQueueName": "NEIGHBOR_SYSTEM"
            },
            "OrgId": 12,
            "UserId": 2
        },
        "MsgTime": "1734396037833",
        "ServiceType": "ServiceType_speech"
    }
}
2024-12-17 09:40:37.846 [info]  [ AMQP:sendToqueue ] 메세지 송신 결과
{
    "ErkServiceDisConnRQ": {
        "ErkMsgHead": {
            "MsgType": "ErkServiceDisConnRQ",
            "QueueInfo": {
                "ToQueueName": "ERK_API_QUEUE",
                "FromQueueName": "NEIGHBOR_SYSTEM2"
            },
            "OrgId": 12,
            "UserId": 12
        },
        "MsgTime": "1734396037833",
        "ServiceType": "ServiceType_speech"
    }
}
2024-12-17 09:40:37.848 [info]  [ API:ManagerLogout ] User logout success & Data updated!
2024-12-17 09:40:37.860 [info]  [ app.js:/ ] 세션 정보가 없거나 인증되지 않아 로그인 페이지로 이동
2024-12-17 09:40:37.875 [info]  [ Consume:ErkServiceDisConnRP ] 메세지 수신 결과
{
    "ErkServiceDisConnRP": {
        "ErkMsgHead": {
            "MsgType": "ErkServiceDisConnRP",
            "QueueInfo": {
                "ToQueueName": "NEIGHBOR_SYSTEM",
                "FromQueueName": "ERK_API_QUEUE"
            },
            "OrgId": 12,
            "UserId": 2
        },
        "MsgTime": "1734396037867",
        "ReturnCode": "ReturnCode_ok"
    }
}
2024-12-17 09:40:37.878 [info]  [ Consume:ErkServiceDisConnRP ] 메세지 수신 결과
{
    "ErkServiceDisConnRP": {
        "ErkMsgHead": {
            "MsgType": "ErkServiceDisConnRP",
            "QueueInfo": {
                "ToQueueName": "NEIGHBOR_SYSTEM2",
                "FromQueueName": "ERK_API_QUEUE"
            },
            "OrgId": 12,
            "UserId": 12
        },
        "MsgTime": "1734396037867",
        "ReturnCode": "ReturnCode_ok"
    }
}
2024-12-17 09:40:37.884 [info]  [ Consume:ErkServiceDisConnRP ] 사용자 정보 업데이트 성공
UPDATE emo_user_info
                            SET erkservicedisconn_recv_dt = NOW(3), 
                            erkservicedisconn_return_code = '1'
                            WHERE userinfo_userId = 2
2024-12-17 09:40:37.888 [info]  [ Consume:ErkServiceDisConnRP ] 사용자 정보 업데이트 성공
UPDATE emo_user_info
                            SET erkservicedisconn_recv_dt = NOW(3), 
                            erkservicedisconn_return_code = '1'
                            WHERE userinfo_userId = 12
2024-12-17 09:40:39.219 [info]  [ watchDirectory:processSIGINT ] Received SIGINT. Cleaning up...
2024-12-17 09:47:31.769 [info]  [ httpServer ] {"address":"::","family":"IPv6","port":8888}
2024-12-17 09:47:31.860 [info]  [ AMQP:amqpConnect ] AMQP 연결 성공
2024-12-17 09:47:31.874 [info]  [ app.js:loadProto ] ErkApiMsg.proto 불러오기 성공
2024-12-17 09:47:31.879 [info]  [ app.js:startApplication ] NFS 마운트 체크를 성공했습니다.
2024-12-17 09:47:31.882 [info]  [ EnhancedFSWatcher:initializeWatcher ] File system watcher initialized successfully
2024-12-17 09:47:31.883 [info]  [ app.js:watchDirectory ] File watcher successfully started
2024-12-17 09:47:31.884 [info]  [ erkUtils.js:setErkApiMsg ] ErkApiMsg and channels set to: defined
2024-12-17 09:47:31.888 [info]  [ AMQP:createChannel ] AMQP 상담원 채널 생성 성공
2024-12-17 09:47:31.888 [info]  [ AMQP:createChannel ] AMQP 고객 채널 생성 성공
2024-12-17 09:47:31.891 [info]  [ AMQP:selectOrgId ] OrgId 요청해야 할 서비스 항목 0건
2024-12-17 09:47:31.891 [info]  [ AMQP:selectUsr ] 등록할 서비스 사업자가 없음. 사용자 프로파일링 진행
2024-12-17 09:47:31.896 [info]  [ AMQP:addUserInfo ] 사용자 등록 조회 결과 : 0건
2024-12-17 09:47:31.897 [info]  [ AMQP:addUserInfo ] 등록할 사용자 없음
2024-12-17 09:47:31.905 [info]  [ AMQP:assertQueue ] Classic 메세지 큐(NEIGHBOR_SYSTEM) 생성 성공
2024-12-17 09:47:31.911 [info]  [ AMQP:assertQueue ] Classic 메세지 큐(NEIGHBOR_SYSTEM2) 생성 성공
2024-12-17 09:47:31.921 [info]  [ EnhancedFSWatcher.js:watchDirectoryReady ] Initial scan complete. Ready for changes...
2024-12-17 09:47:35.750 [info]  [ app.js:managerLogin ] 로그인 프로세스 호출
2024-12-17 09:47:35.751 [info]  [ app.js:managerLogin ] 입력된 사용자 계정: ms2, 입력된 사용자 암호: nb1234
2024-12-17 09:47:35.759 [info]  [ app.js:login_info_sql ] INSERT INTO emo_loginout_info (loginout_dt, userinfo_userid, login_id, group_manager, user_name, loginout_type, uuid, uuid2)
                            VALUES (NOW(3), '2', 'ms2', 'N', '이서연', 'I', '27ad2697-1fee-4dc7-9b72-9ebb19377498', '3cd45f61-878f-4a12-ad47-1e3190a95d9c')
2024-12-17 09:47:35.760 [info]  [ app:login_info_sql ] * User login success & Data inserted! *
2024-12-17 09:47:35.760 [info]  [ app:login_info_sql ] 현재 접속한 사용자 정보
{
  "user_name": "이서연",
  "login_id": "ms2",
  "userinfo_userId": 2,
  "group_type": "민원접수",
  "group_manager": "N",
  "user_type": "1",
  "org_name": "NEIGHBOR SYSTEM Y",
  "org_id": 12,
  "service_type": 2,
  "userinfo_uuid": "27ad2697-1fee-4dc7-9b72-9ebb19377498",
  "cusinfo_uuid": "3cd45f61-878f-4a12-ad47-1e3190a95d9c",
  "current_path": ""
}
2024-12-17 09:47:35.764 [info]  [ app:erkconn_send_rq ] UPDATE emo_user_info SET erkserviceconn_send_dt = NOW(3) 
                                WHERE login_id = "ms2";
2024-12-17 09:47:35.777 [info]  [ AMQP:sendToqueue ] 메세지 송신 결과
{
    "ErkServiceConnRQ": {
        "ErkMsgHead": {
            "MsgType": "ErkServiceConnRQ",
            "TransactionId": "27ad2697-1fee-4dc7-9b72-9ebb19377498",
            "QueueInfo": {
                "ToQueueName": "ERK_API_QUEUE",
                "FromQueueName": "NEIGHBOR_SYSTEM"
            },
            "OrgId": 12,
            "UserId": 2
        },
        "MsgTime": "1734396455765"
    }
}
2024-12-17 09:47:35.778 [info]  [ AMQP:sendToqueue ] 메세지 송신 결과
{
    "ErkServiceConnRQ": {
        "ErkMsgHead": {
            "MsgType": "ErkServiceConnRQ",
            "TransactionId": "3cd45f61-878f-4a12-ad47-1e3190a95d9c",
            "QueueInfo": {
                "ToQueueName": "ERK_API_QUEUE",
                "FromQueueName": "NEIGHBOR_SYSTEM2"
            },
            "OrgId": 12,
            "UserId": 12
        },
        "MsgTime": "1734396455776"
    }
}
2024-12-17 09:47:35.778 [info]  [ app:erkconn_send_rq ] 상담원 페이지로 이동
2024-12-17 09:47:35.831 [info]  [ RMQ:ErkServiceConnRP ] 메세지 수신 결과
{
    "ErkServiceConnRP": {
        "ErkMsgHead": {
            "MsgType": "ErkServiceConnRP",
            "TransactionId": "27ad2697-1fee-4dc7-9b72-9ebb19377498",
            "QueueInfo": {
                "ToQueueName": "NEIGHBOR_SYSTEM",
                "FromQueueName": "ERK_API_QUEUE"
            },
            "OrgId": 12,
            "UserId": 2
        },
        "MsgTime": "1734396455813",
        "ReturnCode": "ReturnCode_ok",
        "ServiceType": "ServiceType_speech"
    }
}
2024-12-17 09:47:35.839 [info]  [ Consume:ErkServiceConnRP ] ReturnCode ok 업데이트 성공
UPDATE emo_user_info
                        SET erkserviceconn_recv_dt = NOW(3),
                        erkserviceconn_return_code = '1' 
                        WHERE userinfo_userId = 2
                        AND userinfo_serviceType = 2
2024-12-17 09:47:35.852 [info]  [ RMQ:ErkServiceConnRP ] 메세지 수신 결과
{
    "ErkServiceConnRP": {
        "ErkMsgHead": {
            "MsgType": "ErkServiceConnRP",
            "TransactionId": "3cd45f61-878f-4a12-ad47-1e3190a95d9c",
            "QueueInfo": {
                "ToQueueName": "NEIGHBOR_SYSTEM2",
                "FromQueueName": "ERK_API_QUEUE"
            },
            "OrgId": 12,
            "UserId": 12
        },
        "MsgTime": "1734396455841",
        "ReturnCode": "ReturnCode_ok",
        "ServiceType": "ServiceType_speech"
    }
}
2024-12-17 09:47:35.867 [info]  [ Consume:ErkServiceConnRP ] ReturnCode ok 업데이트 성공
UPDATE emo_user_info
                        SET erkserviceconn_recv_dt = NOW(3),
                        erkserviceconn_return_code = '1' 
                        WHERE userinfo_userId = 12
                        AND userinfo_serviceType = 2
2024-12-17 09:47:35.945 [info]  [ app.js:socketConnected ] 상담원: ms2 접속[::ffff:192.168.0.19]
2024-12-17 09:47:35.946 [info]  [ app.js:socketConnected ] 접속일시: 2024년 12월 17일 09시 47분 35초
2024-12-17 09:47:35.947 [info]  [ app.js:socketConnected ] 현재 연결된 사용자: 1명
2024-12-17 09:47:35.947 [info]  [ app.js:socketConnected ] 현재 연결된 사용자 ID: ms2,[object Object]
2024-12-17 09:47:35.950 [info]  [ app.js:socketOnMessage ] 클라이언트 정상 응답 '상담원ms2 접속[::ffff:192.168.0.19]'
2024-12-17 09:47:35.951 [info]  [ app.js:socketOnMessage ] 클라이언트 정상 응답 '접속일시: 2024년 12월 17일 09시 47분 35초'
2024-12-17 09:47:43.595 [info]  [ EnhancedFSWatcher.js:watchFileAdd ] File /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501.wav has been added
2024-12-17 09:47:43.596 [info]  [ EnhancedFSWatcher.js:watchFileAdd ] File /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501_rx.wav has been added
2024-12-17 09:47:43.597 [warn]  [ EnhancedFSWatcher.js:watchFileAdd ] File validation failed: invalid_filename_format for /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501_rx.wav
2024-12-17 09:47:43.597 [info]  [ EnhancedFSWatcher.js:watchFileAdd ] File /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501_tx.wav has been added
2024-12-17 09:47:43.597 [warn]  [ EnhancedFSWatcher.js:watchFileAdd ] File validation failed: invalid_filename_format for /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501_tx.wav
2024-12-17 09:47:43.599 [warn]  [ audioServices.js:EmoServiceStartRQ ] 전달받은 File Path: 20230823142311200_A_2501.wav
2024-12-17 09:47:43.611 [info]  [ audioServices.js:EmoServiceStartRQ ] con 업데이트 후 메세지 송신
{
    "EmoServiceStartRQ": {
        "ErkMsgHead": {
            "MsgType": "EmoServiceStartRQ",
            "QueueInfo": {
                "ToQueueName": "ERK_API_QUEUE",
                "FromQueueName": "NEIGHBOR_SYSTEM"
            },
            "OrgId": 12,
            "UserId": 2
        },
        "MsgTime": "1734396463605",
        "ServiceType": "ServiceType_speech",
        "EmoRecogType": "EmoRecogType_personal_emotion"
    }
}
2024-12-17 09:47:43.614 [info]  [ audioServices.js:EmoServiceStartRQ ] cus 업데이트 후 메세지 송신
{
    "EmoServiceStartRQ": {
        "ErkMsgHead": {
            "MsgType": "EmoServiceStartRQ",
            "QueueInfo": {
                "ToQueueName": "ERK_API_QUEUE",
                "FromQueueName": "NEIGHBOR_SYSTEM2"
            },
            "OrgId": 12,
            "UserId": 12
        },
        "MsgTime": "1734396463605",
        "ServiceType": "ServiceType_speech",
        "EmoRecogType": "EmoRecogType_personal_emotion"
    }
}
2024-12-17 09:47:43.615 [info]  [ audioServices.js:sendAndWaitForResponse ] Both channels responded successfully
2024-12-17 09:47:43.615 [info]  [ watchFileAdd:EmoServiceStartRQ ] Received response for 20230823142311200_A_2501.wav (Response: 1 - success)
2024-12-17 09:47:43.616 [info]  [ audioServices.js:handleNewFile ] 처리요청 받은 RX/TX 파일경로: /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501_rx.wav
2024-12-17 09:47:43.617 [info]  [ audioServices.js:handleNewFile ] 처리요청 받은 RX/TX 파일경로: /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501_tx.wav
2024-12-17 09:47:43.627 [info]  [ audioServices.js:handleNewFile ] File integrity check passed, header length: 78 bytes
2024-12-17 09:47:43.628 [warn]  [ audioServices.js:EmoServiceStartRQ ] 전달받은 File Path: 20230823142311200_A_2501_rx
2024-12-17 09:47:43.636 [info]  [ audioServices.js:EmoServiceStartRQ ] con 업데이트 후 메세지 송신
{
    "EmoServiceStartRQ": {
        "ErkMsgHead": {
            "MsgType": "EmoServiceStartRQ",
            "QueueInfo": {
                "ToQueueName": "ERK_API_QUEUE",
                "FromQueueName": "NEIGHBOR_SYSTEM"
            },
            "OrgId": 12,
            "UserId": 2
        },
        "MsgTime": "1734396463631",
        "ServiceType": "ServiceType_speech",
        "EmoRecogType": "EmoRecogType_personal_emotion"
    }
}
2024-12-17 09:47:43.640 [info]  [ audioServices.js:handleNewFile ] File integrity check passed, header length: 78 bytes
2024-12-17 09:47:43.640 [warn]  [ audioServices.js:EmoServiceStartRQ ] 전달받은 File Path: 20230823142311200_A_2501_tx
2024-12-17 09:47:43.641 [info]  [ audioServices.js:EmoServiceStartRQ ] cus 업데이트 후 메세지 송신
{
    "EmoServiceStartRQ": {
        "ErkMsgHead": {
            "MsgType": "EmoServiceStartRQ",
            "QueueInfo": {
                "ToQueueName": "ERK_API_QUEUE",
                "FromQueueName": "NEIGHBOR_SYSTEM2"
            },
            "OrgId": 12,
            "UserId": 12
        },
        "MsgTime": "1734396463631",
        "ServiceType": "ServiceType_speech",
        "EmoRecogType": "EmoRecogType_personal_emotion"
    }
}
2024-12-17 09:47:43.642 [info]  [ audioServices.js:sendAndWaitForResponse ] Both channels responded successfully
2024-12-17 09:47:43.645 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:43.647 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:43.650 [info]  [ audioServices.js:EmoServiceStartRQ ] con 업데이트 후 메세지 송신
{
    "EmoServiceStartRQ": {
        "ErkMsgHead": {
            "MsgType": "EmoServiceStartRQ",
            "QueueInfo": {
                "ToQueueName": "ERK_API_QUEUE",
                "FromQueueName": "NEIGHBOR_SYSTEM"
            },
            "OrgId": 12,
            "UserId": 2
        },
        "MsgTime": "1734396463644",
        "ServiceType": "ServiceType_speech",
        "EmoRecogType": "EmoRecogType_personal_emotion"
    }
}
2024-12-17 09:47:43.655 [info]  [ audioServices.js:EmoServiceStartRQ ] cus 업데이트 후 메세지 송신
{
    "EmoServiceStartRQ": {
        "ErkMsgHead": {
            "MsgType": "EmoServiceStartRQ",
            "QueueInfo": {
                "ToQueueName": "ERK_API_QUEUE",
                "FromQueueName": "NEIGHBOR_SYSTEM2"
            },
            "OrgId": 12,
            "UserId": 12
        },
        "MsgTime": "1734396463644",
        "ServiceType": "ServiceType_speech",
        "EmoRecogType": "EmoRecogType_personal_emotion"
    }
}
2024-12-17 09:47:43.656 [info]  [ audioServices.js:sendAndWaitForResponse ] Both channels responded successfully
2024-12-17 09:47:43.657 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:43.658 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:43.757 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:43.757 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:43.760 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:43.761 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:43.861 [info]  [ Consume:chEmoServiceStartRP ] 메세지 수신 결과
{
    "EmoServiceStartRP": {
        "ErkMsgHead": {
            "MsgType": "EmoServiceStartRP",
            "QueueInfo": {
                "ToQueueName": "NEIGHBOR_SYSTEM",
                "FromQueueName": "ERK_API_QUEUE"
            },
            "OrgId": 12,
            "UserId": 2
        },
        "MsgTime": "1734396463748"
    }
}
2024-12-17 09:47:43.863 [info]  [ Consume:chEmoServiceStartRP ] recvMsg.EmoServiceStartRP.ReturnCode: 0
2024-12-17 09:47:43.864 [info]  [ Consume:chEmoServiceStartRP ] recvMsg.EmoServiceStartRP.SpeechEngineInfo: null
2024-12-17 09:47:43.866 [error] [ Consume:chEmoServiceStartRP ] Consume Error: TypeError: Cannot read properties of null (reading 'EngineType')
2024-12-17 09:47:43.867 [info]  [ Consume:ch2EmoServiceStartRP ] 메세지 수신 결과
{
    "EmoServiceStartRP": {
        "ErkMsgHead": {
            "MsgType": "EmoServiceStartRP",
            "QueueInfo": {
                "ToQueueName": "NEIGHBOR_SYSTEM2",
                "FromQueueName": "ERK_API_QUEUE"
            },
            "OrgId": 12,
            "UserId": 12
        },
        "MsgTime": "1734396463748"
    }
}
2024-12-17 09:47:43.867 [info]  [ Consume:chEmoServiceStartRP ] recvMsg.EmoServiceStartRP.ReturnCode: 0
2024-12-17 09:47:43.867 [info]  [ Consume:chEmoServiceStartRP ] recvMsg.EmoServiceStartRP.SpeechEngineInfo: null
2024-12-17 09:47:43.868 [error] [ Consume:ch2EmoServiceStartRP ] Consume Error: TypeError: Cannot read properties of null (reading 'EngineType')
2024-12-17 09:47:43.869 [info]  [ Consume:ch2EmoServiceStartRP ] 메세지 수신 결과
{
    "EmoServiceStartRP": {
        "ErkMsgHead": {
            "MsgType": "EmoServiceStartRP",
            "QueueInfo": {
                "ToQueueName": "NEIGHBOR_SYSTEM2",
                "FromQueueName": "ERK_API_QUEUE"
            },
            "OrgId": 12,
            "UserId": 12
        },
        "MsgTime": "1734396463749"
    }
}
2024-12-17 09:47:43.869 [info]  [ Consume:chEmoServiceStartRP ] recvMsg.EmoServiceStartRP.ReturnCode: 0
2024-12-17 09:47:43.869 [info]  [ Consume:chEmoServiceStartRP ] recvMsg.EmoServiceStartRP.SpeechEngineInfo: null
2024-12-17 09:47:43.870 [error] [ Consume:ch2EmoServiceStartRP ] Consume Error: TypeError: Cannot read properties of null (reading 'EngineType')
2024-12-17 09:47:43.879 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:43.879 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:43.880 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:43.881 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:43.982 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:43.982 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:43.985 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:43.985 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:44.096 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:44.096 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:44.097 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:44.097 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:44.177 [info]  [ Consume:chEmoServiceStartRP ] 메세지 수신 결과
{
    "EmoServiceStartRP": {
        "ErkMsgHead": {
            "MsgType": "EmoServiceStartRP",
            "QueueInfo": {
                "ToQueueName": "NEIGHBOR_SYSTEM",
                "FromQueueName": "ERK_API_QUEUE"
            },
            "OrgId": 12,
            "UserId": 2
        },
        "MsgTime": "1734396464034"
    }
}
2024-12-17 09:47:44.177 [info]  [ Consume:chEmoServiceStartRP ] recvMsg.EmoServiceStartRP.ReturnCode: 0
2024-12-17 09:47:44.178 [info]  [ Consume:chEmoServiceStartRP ] recvMsg.EmoServiceStartRP.SpeechEngineInfo: null
2024-12-17 09:47:44.178 [error] [ Consume:chEmoServiceStartRP ] Consume Error: TypeError: Cannot read properties of null (reading 'EngineType')
2024-12-17 09:47:44.179 [info]  [ Consume:chEmoServiceStartRP ] 메세지 수신 결과
{
    "EmoServiceStartRP": {
        "ErkMsgHead": {
            "MsgType": "EmoServiceStartRP",
            "QueueInfo": {
                "ToQueueName": "NEIGHBOR_SYSTEM",
                "FromQueueName": "ERK_API_QUEUE"
            },
            "OrgId": 12,
            "UserId": 2
        },
        "MsgTime": "1734396464040",
        "ReturnCode": "ReturnCode_ok",
        "SpeechEngineInfo": {
            "EngineType": "EngineType_speech",
            "EngineCondition": "EngineCondition_available",
            "IpAddr": "0.0.0.0",
            "ReceiveQueueName": "RECV_02_012_002",
            "SendQueueName": "SEND_02_012_002"
        }
    }
}
2024-12-17 09:47:44.180 [info]  [ app.js:getMyStreamQueue ] getMyStreamQueue 함수 호출 성공
2024-12-17 09:47:44.180 [info]  [ app.js:getMyStreamQueue ] 해당 스트림큐 요청자 userId: 2
2024-12-17 09:47:44.181 [info]  [ AMQP:assertQueue ] 새로운 Stream 큐 'RECV_02_012_002' 확인 및 생성 완료
2024-12-17 09:47:44.181 [info]  [ app.js:getMyStreamQueue ] 스트림 큐 생성 성공
2024-12-17 09:47:44.184 [info]  [ Consume:chEmoServiceStartRP ] EmoServiceStartRP 수신 정보 업데이트 성공
2024-12-17 09:47:44.198 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:44.199 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:44.200 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:44.201 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:44.205 [info]  [ Consume:ch2EmoServiceStartRP ] 메세지 수신 결과
{
    "EmoServiceStartRP": {
        "ErkMsgHead": {
            "MsgType": "EmoServiceStartRP",
            "QueueInfo": {
                "ToQueueName": "NEIGHBOR_SYSTEM2",
                "FromQueueName": "ERK_API_QUEUE"
            },
            "OrgId": 12,
            "UserId": 12
        },
        "MsgTime": "1734396464202",
        "ReturnCode": "ReturnCode_ok",
        "SpeechEngineInfo": {
            "EngineType": "EngineType_speech",
            "EngineCondition": "EngineCondition_available",
            "IpAddr": "0.0.0.0",
            "ReceiveQueueName": "RECV_02_012_012",
            "SendQueueName": "SEND_02_012_012"
        }
    }
}
2024-12-17 09:47:44.206 [info]  [ app.js:getMyStreamQueue ] getMyStreamQueue 함수 호출 성공
2024-12-17 09:47:44.206 [info]  [ app.js:getMyStreamQueue ] 해당 스트림큐 요청자 userId: 12
2024-12-17 09:47:44.207 [info]  [ AMQP:assertQueue ] 새로운 Stream 큐 'RECV_02_012_012' 확인 및 생성 완료
2024-12-17 09:47:44.208 [info]  [ app.js:getMyStreamQueue ] 스트림 큐 생성 성공
2024-12-17 09:47:44.210 [info]  [ Consume:ch2EmoServiceStartRP ] ch2EmoServiceStartRP 수신 정보 업데이트 성공
2024-12-17 09:47:44.301 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:44.302 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:44.303 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:44.303 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:44.410 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:44.410 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:44.411 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:44.411 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:44.515 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:44.516 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:44.516 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:44.516 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:44.618 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:44.619 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:44.619 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:44.619 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:44.720 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:44.722 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:44.723 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:44.724 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:44.827 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:44.829 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:44.831 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:44.831 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:44.934 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:44.935 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:44.936 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:44.936 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:45.040 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:45.041 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:45.041 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:45.042 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:45.145 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:45.146 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:45.147 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:45.147 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:45.269 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:45.272 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:45.274 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:45.275 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:45.374 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:45.375 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:45.376 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:45.377 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:45.478 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:45.479 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:45.480 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:45.480 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:45.591 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:45.591 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:45.592 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:45.594 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:45.697 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:45.698 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:45.698 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:45.698 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:45.804 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:45.804 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:45.805 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:45.805 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:45.915 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:45.916 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:45.916 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:45.917 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:46.017 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:46.017 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:46.018 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:46.018 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:46.119 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:46.119 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:46.121 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:46.121 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:46.222 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:46.223 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:46.224 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:46.224 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:46.327 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:46.328 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:46.329 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:46.329 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:46.431 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:46.431 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:46.431 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:46.432 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:46.540 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:46.542 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:46.543 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:46.544 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:46.647 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:46.647 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:46.647 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:46.648 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:46.750 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:46.751 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:46.751 [error] [ StreamProcessor:processFileStream ] Error processing file stream: ReferenceError: login_id is not defined
2024-12-17 09:47:46.751 [error] [ audioServices.js:handleNewFile ] Failed to process chunk 1: undefined
2024-12-17 09:47:46.858 [info]  [ app.js:sendAudioChunks ] 전달받은 filePath: /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501_rx.wav
2024-12-17 09:47:46.859 [info]  [ app.js:sendAudioChunks ] 전달받은 filePath: /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501_tx.wav
2024-12-17 09:47:48.606 [warn]  [ audioServices.js:EmoServiceStartRQ ] Channel 1 response timeout
2024-12-17 09:47:48.607 [warn]  [ audioServices.js:EmoServiceStartRQ ] Channel 2 response timeout
2024-12-17 09:47:48.635 [warn]  [ audioServices.js:EmoServiceStartRQ ] Channel 1 response timeout
2024-12-17 09:47:48.636 [warn]  [ audioServices.js:EmoServiceStartRQ ] Channel 2 response timeout
2024-12-17 09:47:48.644 [warn]  [ audioServices.js:EmoServiceStartRQ ] Channel 1 response timeout
2024-12-17 09:47:48.644 [warn]  [ audioServices.js:EmoServiceStartRQ ] Channel 2 response timeout
2024-12-17 09:47:50.888 [warn]  [ app.js:waitForRequiredSize ] Timeout reached, attempting retry 1/3
2024-12-17 09:47:50.890 [warn]  [ app.js:waitForRequiredSize ] Timeout reached, attempting retry 1/3
2024-12-17 09:47:51.918 [warn]  [ app.js:waitForRequiredSize ] Timeout reached, attempting retry 2/3
2024-12-17 09:47:51.919 [warn]  [ app.js:waitForRequiredSize ] Timeout reached, attempting retry 2/3
2024-12-17 09:47:53.095 [warn]  [ app.js:waitForRequiredSize ] Timeout reached, attempting retry 3/3
2024-12-17 09:47:53.103 [warn]  [ app.js:waitForRequiredSize ] Timeout reached, attempting retry 3/3
2024-12-17 09:47:54.104 [error] [ app.js:waitForRequiredSize ] Timeout waiting for size NaN bytes after 3 retries
2024-12-17 09:47:54.104 [error] [ app.js:sendAudioChunks ] sendAudioChunks 함수에서 오류 발생: Error: [ app.js:waitForRequiredSize ] Timeout waiting for size NaN bytes after 3 retries
2024-12-17 09:47:54.106 [info]  [ audioServices.js:handleNewFile ] Final chunk processed with 3616000 bytes of data
2024-12-17 09:47:54.106 [error] [ audioServices.js:convertGsmToPcm ] Failed to send audio chunk 1: [ app.js:waitForRequiredSize ] Timeout waiting for size NaN bytes after 3 retries
2024-12-17 09:47:54.106 [error] [ app.js:waitForRequiredSize ] Timeout waiting for size NaN bytes after 3 retries
2024-12-17 09:47:54.106 [error] [ app.js:sendAudioChunks ] sendAudioChunks 함수에서 오류 발생: Error: [ app.js:waitForRequiredSize ] Timeout waiting for size NaN bytes after 3 retries
2024-12-17 09:47:54.107 [info]  [ audioServices.js:handleNewFile ] Final chunk processed with 3624960 bytes of data
2024-12-17 09:47:54.107 [error] [ audioServices.js:convertGsmToPcm ] Failed to send audio chunk 1: [ app.js:waitForRequiredSize ] Timeout waiting for size NaN bytes after 3 retries
2024-12-17 09:47:54.207 [info]  [ app.js:sendAudioChunks ] 전달받은 filePath: /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501_rx.wav
2024-12-17 09:47:54.208 [info]  [ app.js:waitForRequiredSize ] Current size: 3616078, Required: NaN, Elapsed: 0ms
2024-12-17 09:47:54.209 [info]  [ app.js:sendAudioChunks ] 전달받은 filePath: /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501_tx.wav
2024-12-17 09:47:54.209 [info]  [ app.js:waitForRequiredSize ] Current size: 3625038, Required: NaN, Elapsed: 0ms
2024-12-17 09:47:58.384 [warn]  [ app.js:waitForRequiredSize ] Timeout reached, attempting retry 1/3
2024-12-17 09:47:58.385 [warn]  [ app.js:waitForRequiredSize ] Timeout reached, attempting retry 1/3
2024-12-17 09:47:59.391 [warn]  [ app.js:waitForRequiredSize ] Timeout reached, attempting retry 2/3
2024-12-17 09:47:59.392 [warn]  [ app.js:waitForRequiredSize ] Timeout reached, attempting retry 2/3
2024-12-17 09:48:00.402 [warn]  [ app.js:waitForRequiredSize ] Timeout reached, attempting retry 3/3
2024-12-17 09:48:00.403 [warn]  [ app.js:waitForRequiredSize ] Timeout reached, attempting retry 3/3
2024-12-17 09:48:00.469 [info]  [ app.js:EmoServiceStopRQ ] EmoServiceStopRQ 프로세스 호출
2024-12-17 09:48:00.472 [info]  [ app.js:EmoServiceStopRQ ] 조회 결과 2건
2024-12-17 09:48:00.484 [info]  [ app.js:emoSerStop_send_rq ] 업데이트 후 메세지 송신
{
    "EmoServiceStopRQ": {
        "ErkMsgHead": {
            "MsgType": "EmoServiceStopRQ",
            "TransactionId": "27ad2697-1fee-4dc7-9b72-9ebb19377498",
            "QueueInfo": {
                "ToQueueName": "ERK_API_QUEUE",
                "FromQueueName": "NEIGHBOR_SYSTEM"
            },
            "OrgId": 12,
            "UserId": 2
        },
        "MsgTime": "1734396480473",
        "ServiceType": "ServiceType_speech",
        "EmoRecogType": "EmoRecogType_personal_emotion",
        "PhysioEngine_ReceiveQueueName": "",
        "PhysioEngine_SendQueueName": "",
        "SpeechEngine_ReceiveQueueName": "RECV_02_012_002",
        "SpeechEngine_SendQueueName": "SEND_02_012_002",
        "FaceEngine_ReceiveQueueName": "",
        "FaceEngine_SendQueueName": "",
        "KnowledgeEngine_ReceiveQueueName": "",
        "KnowledgeEngine_SendQueueName": ""
    }
}
2024-12-17 09:48:00.484 [info]  [ app.js:emoSerStop_send_rq ] 업데이트 후 메세지 송신
{
    "EmoServiceStopRQ": {
        "ErkMsgHead": {
            "MsgType": "EmoServiceStopRQ",
            "TransactionId": "3cd45f61-878f-4a12-ad47-1e3190a95d9c",
            "QueueInfo": {
                "ToQueueName": "ERK_API_QUEUE",
                "FromQueueName": "NEIGHBOR_SYSTEM2"
            },
            "OrgId": 12,
            "UserId": 12
        },
        "MsgTime": "1734396480475",
        "ServiceType": "ServiceType_speech",
        "EmoRecogType": "EmoRecogType_personal_emotion",
        "PhysioEngine_ReceiveQueueName": "",
        "PhysioEngine_SendQueueName": "",
        "SpeechEngine_ReceiveQueueName": "RECV_02_012_012",
        "SpeechEngine_SendQueueName": "SEND_02_012_012",
        "FaceEngine_ReceiveQueueName": "",
        "FaceEngine_SendQueueName": "",
        "KnowledgeEngine_ReceiveQueueName": "",
        "KnowledgeEngine_SendQueueName": ""
    }
}
2024-12-17 09:48:00.704 [info]  [ app.js:chEmoServiceStopRP ] 메세지 수신 결과
{
    "EmoServiceStopRP": {
        "ErkMsgHead": {
            "MsgType": "EmoServiceStopRP",
            "TransactionId": "27ad2697-1fee-4dc7-9b72-9ebb19377498",
            "QueueInfo": {
                "ToQueueName": "NEIGHBOR_SYSTEM",
                "FromQueueName": "ERK_API_QUEUE"
            },
            "OrgId": 12,
            "UserId": 2
        },
        "MsgTime": "1734396480642",
        "ReturnCode": "ReturnCode_ok",
        "SpeechEngineInfo": {
            "EngineType": "EngineType_speech",
            "EngineCondition": "EngineCondition_available",
            "IpAddr": "0.0.0.0",
            "ReceiveQueueName": "RECV_02_012_002",
            "SendQueueName": "SEND_02_012_002"
        }
    }
}
2024-12-17 09:48:00.707 [info]  [ app.js:chEmoServiceStopRP ] UPDATE emo_user_info
                                SET erkEmoSrvcStopRP_returnCode = '1',
                                    erkengineInfo_return_engineType = null,
                                    erkengineInfo_return_condition = null,
                                    erkengineInfo_return_ipAddr = null,
                                    erkengineInfo_return_recvQueueName = null,
                                    erkengineInfo_returnCustomer_recvQueueName = null,
                                    erkengineInfo_return_sendQueueName = null,
                                    erkengineInfo_returnCustomer_sendQueueName = null,
                                    update_dt = NOW(3),
                                    erkEmoSrvcStop_recv_dt = NOW(3)
                                WHERE userinfo_userId = 2;
2024-12-17 09:48:00.725 [info]  [ app.js:chEmoServiceStopRP ] 상태 업데이트 성공
2024-12-17 09:48:00.741 [info]  [ app.js:ch2EmoServiceStopRP ] 메세지 수신 결과
{
    "EmoServiceStopRP": {
        "ErkMsgHead": {
            "MsgType": "EmoServiceStopRP",
            "TransactionId": "3cd45f61-878f-4a12-ad47-1e3190a95d9c",
            "QueueInfo": {
                "ToQueueName": "NEIGHBOR_SYSTEM2",
                "FromQueueName": "ERK_API_QUEUE"
            },
            "OrgId": 12,
            "UserId": 12
        },
        "MsgTime": "1734396480733",
        "ReturnCode": "ReturnCode_ok",
        "SpeechEngineInfo": {
            "EngineType": "EngineType_speech",
            "EngineCondition": "EngineCondition_available",
            "IpAddr": "0.0.0.0",
            "ReceiveQueueName": "RECV_02_012_012",
            "SendQueueName": "SEND_02_012_012"
        }
    }
}
2024-12-17 09:48:00.742 [info]  [ app.js:ch2EmoServiceStopRP ] UPDATE emo_user_info
                                SET erkEmoSrvcStopRP_returnCode = '1',
                                    erkengineInfo_return_engineType = null,
                                    erkengineInfo_return_condition = null,
                                    erkengineInfo_return_ipAddr = null,
                                    erkengineInfo_return_recvQueueName = null,
                                    erkengineInfo_returnCustomer_recvQueueName = null,
                                    erkengineInfo_return_sendQueueName = null,
                                    erkengineInfo_returnCustomer_sendQueueName = null,
                                    update_dt = NOW(3),
                                    erkEmoSrvcStop_recv_dt = NOW(3)
                                WHERE userinfo_userId = 12;
2024-12-17 09:48:00.748 [info]  [ app.js:ch2EmoServiceStopRP ] 상태 업데이트 성공
2024-12-17 09:48:01.416 [error] [ app.js:waitForRequiredSize ] Timeout waiting for size NaN bytes after 3 retries
2024-12-17 09:48:01.418 [error] [ app.js:sendAudioChunks ] sendAudioChunks 함수에서 오류 발생: Error: [ app.js:waitForRequiredSize ] Timeout waiting for size NaN bytes after 3 retries
2024-12-17 09:48:01.418 [info]  [ audioServices.js:handleNewFile ] Final chunk processed with 3624960 bytes of data
2024-12-17 09:48:01.419 [error] [ audioServices.js:convertGsmToPcm ] Failed to send audio chunk 1: [ app.js:waitForRequiredSize ] Timeout waiting for size NaN bytes after 3 retries
2024-12-17 09:48:01.419 [error] [ app.js:waitForRequiredSize ] Timeout waiting for size NaN bytes after 3 retries
2024-12-17 09:48:01.419 [error] [ app.js:sendAudioChunks ] sendAudioChunks 함수에서 오류 발생: Error: [ app.js:waitForRequiredSize ] Timeout waiting for size NaN bytes after 3 retries
2024-12-17 09:48:01.419 [info]  [ audioServices.js:handleNewFile ] Final chunk processed with 3616000 bytes of data
2024-12-17 09:48:01.420 [error] [ audioServices.js:convertGsmToPcm ] Failed to send audio chunk 1: [ app.js:waitForRequiredSize ] Timeout waiting for size NaN bytes after 3 retries
2024-12-17 09:48:01.521 [info]  [ app.js:sendAudioChunks ] 전달받은 filePath: /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501_tx.wav
2024-12-17 09:48:01.522 [info]  [ app.js:sendAudioChunks ] 전달받은 filePath: /home/241212_MindSupport/MindSupport/ms_nfs_mount/20230823142311200_A_2501_rx.wav
2024-12-17 09:48:01.523 [info]  [ app.js:waitForRequiredSize ] Current size: 3616078, Required: NaN, Elapsed: 0ms
2024-12-17 09:48:02.167 [info]  [ app.js:socketDisConnected ] transport close
2024-12-17 09:48:02.168 [info]  [ app.js:socketDisConnected ] 클라이언트 연결해제 [IP: ::ffff:192.168.0.19, 사용자: 이서연]
2024-12-17 09:48:02.168 [info]  [ app.js:socketDisConnected ] 현재 연결된 사용자: 0명
2024-12-17 09:48:02.182 [info]  [ API:ManagerLogout ] 로그아웃 프로세스 호출
2024-12-17 09:48:02.192 [info]  [ AMQP:sendToqueue ] 메세지 송신 결과
{
    "ErkServiceDisConnRQ": {
        "ErkMsgHead": {
            "MsgType": "ErkServiceDisConnRQ",
            "QueueInfo": {
                "ToQueueName": "ERK_API_QUEUE",
                "FromQueueName": "NEIGHBOR_SYSTEM"
            },
            "OrgId": 12,
            "UserId": 2
        },
        "MsgTime": "1734396482184",
        "ServiceType": "ServiceType_speech"
    }
}
2024-12-17 09:48:02.193 [info]  [ AMQP:sendToqueue ] 메세지 송신 결과
{
    "ErkServiceDisConnRQ": {
        "ErkMsgHead": {
            "MsgType": "ErkServiceDisConnRQ",
            "QueueInfo": {
                "ToQueueName": "ERK_API_QUEUE",
                "FromQueueName": "NEIGHBOR_SYSTEM2"
            },
            "OrgId": 12,
            "UserId": 12
        },
        "MsgTime": "1734396482185",
        "ServiceType": "ServiceType_speech"
    }
}
2024-12-17 09:48:02.197 [info]  [ API:ManagerLogout ] User logout success & Data updated!
2024-12-17 09:48:02.208 [info]  [ app.js:/ ] 세션 정보가 없거나 인증되지 않아 로그인 페이지로 이동
2024-12-17 09:48:02.220 [info]  [ Consume:ErkServiceDisConnRP ] 메세지 수신 결과
{
    "ErkServiceDisConnRP": {
        "ErkMsgHead": {
            "MsgType": "ErkServiceDisConnRP",
            "QueueInfo": {
                "ToQueueName": "NEIGHBOR_SYSTEM2",
                "FromQueueName": "ERK_API_QUEUE"
            },
            "OrgId": 12,
            "UserId": 12
        },
        "MsgTime": "1734396482213",
        "ReturnCode": "ReturnCode_ok"
    }
}
2024-12-17 09:48:02.221 [info]  [ Consume:ErkServiceDisConnRP ] 메세지 수신 결과
{
    "ErkServiceDisConnRP": {
        "ErkMsgHead": {
            "MsgType": "ErkServiceDisConnRP",
            "QueueInfo": {
                "ToQueueName": "NEIGHBOR_SYSTEM",
                "FromQueueName": "ERK_API_QUEUE"
            },
            "OrgId": 12,
            "UserId": 2
        },
        "MsgTime": "1734396482213",
        "ReturnCode": "ReturnCode_ok"
    }
}
2024-12-17 09:48:02.227 [info]  [ Consume:ErkServiceDisConnRP ] 사용자 정보 업데이트 성공
UPDATE emo_user_info
                            SET erkservicedisconn_recv_dt = NOW(3), 
                            erkservicedisconn_return_code = '1'
                            WHERE userinfo_userId = 12
2024-12-17 09:48:02.234 [info]  [ Consume:ErkServiceDisConnRP ] 사용자 정보 업데이트 성공
UPDATE emo_user_info
                            SET erkservicedisconn_recv_dt = NOW(3), 
                            erkservicedisconn_return_code = '1'
                            WHERE userinfo_userId = 2
2024-12-17 09:48:03.312 [info]  [ watchDirectory:processSIGINT ] Received SIGINT. Cleaning up...
